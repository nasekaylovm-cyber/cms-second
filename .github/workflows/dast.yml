name: DAST Security Scan

on:
  push:
    branches: [ main ]

jobs:
  dast:
    runs-on: ubuntu-latest
    steps:
    - name: ZAP Baseline Scan
      run: |
        docker run -v $(pwd):/zap/wrk/:rw -t owasp/zap2docker-stable zap-baseline.py \
          -t http://5.129.250.92:8000 \
          -r zap-report.html
      continue-on-error: true
      
    - name: Upload DAST Report
      uses: actions/upload-artifact@v4
      with:
        name: dast-report
        path: zap-report.html
